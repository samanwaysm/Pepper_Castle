<!DOCTYPE html> 
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="img/user-gear.png">
    <!-- Boxicons -->
    <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">    
     <!-- My CSS -->
    <link rel="stylesheet" href="/css/addProduct.css">
    <title>NovaNex Admin</title>
</head>
<body>


  <!-- SIDEBAR -->
  <section id="sidebar">
      <a href="" class="brand">
          <h2 class="text p-5" style="color: black;">NovaNex</h2>
      </a>
      <ul class="side-menu top">
          <li>
              <a href="/adminDash">
                  <i class='bx bxs-dashboard' ></i>
                  <span class="text">Dashboard</span>
              </a>
          </li>
          <li>
              <a href="/adminItemManagement">
                  <!-- /admin/addproduct -->
                  <i class='bx bxs-shopping-bag-alt' ></i>
                  <span class="text">ProductManagment</span>
              </a>
          </li>
          <li>
              <a href="/adminUserMange">
                  <i class='bx bxs-doughnut-chart' ></i>
                  <span class="text">User managment</span>
              </a>
          </li>
          <li>
              <a href="/adminOrderMange">
                  <i class='bx bxs-group' ></i>
                  <span class="text">Order Managment</span>
              </a>
          </li>
          <li class="active">
              <a href="/adminCategoryMange">
                  <i class='bx bxs-cog' ></i>
                  <span class="text">Category Managment</span>
              </a>
          </li>
          <li>
            <a href="/adminCouponManage">
                <i class='bx bxs-coupon'></i>
                <span class="text">Coupen Managment</span>
            </a>
        </li>
        <li>
            <a href="/adminOfferManage">
                <i class='bx bxs-offer'></i>
                <span class="text">Offer Managment</span>
            </a>
        </li>
        <li>
            <a href="/adminRefManage">
                <i class='bx bxs-share-alt'></i>
                <span class="text">Referral Managment</span>
            </a>
        </li>
      </ul>
      <ul class="side-menu">
          <li>
              <a href="/admin/logout" class="logout">
                  <i class='bx bxs-log-out-circle' ></i>
                  <span class="text">Logout</span>
              </a>
          </li>
      </ul>
      
  </section>
  <!-- SIDEBAR -->



  <!-- CONTENT -->
  <section id="content">

      <!-- MAIN -->
      <main>
          <div class="head-title">
              <div class="left">
                  <h1>Edit Category</h1>
                    <ul class="breadcrumb">
                        <a href="/adminDash"><li>Dashboard</li></a>
                        <li><i class='bx bx-chevron-right' ></i></li>
                        <a href="/adminCategoryMange"><li>Category Management</li></a>
                        <li><i class='bx bx-chevron-right' ></i></li>
                        <li>
                            <a class="active">Edit Category</a>
                        </li>
                    </ul>
                    </div>
                </div>
              </div>

          </div>


          <!-- <div class="container " style="background-color: rgb(233, 230, 221);"> -->
            <form action="/admin/editCategory?id=<%=category._id %>" method="POST" enctype="multipart/form-data" style="background-color: rgb(255, 255, 255);border-radius: 15px;" id="form">
                <div class="container" style="background-color: rgb(255, 255, 255);border-radius: 15px;">
                    <div class="input-box">
                        <div class="input-box">
                            <div>
                                <label for="discount">Category</label>
                                <input class="border border-dark" type="text" name="categoryName" id="categoryName" value="<%=category.category %>">
                            </div>
                        </div>
                    </div>
            
                    <div class="btn-container">
                        <button class="btn" type="submit" value="submit" id="submit">Submit</button>
                    </div>
                </div>
            </form>
            
              
          <!-- </div> -->
         

  </section>
  <!-- CONTENT -->
  <!-- <script>
    // function setupImagePreview() {
    //     const input = document.getElementById('imageInput');
    //     const preview = document.getElementById('imagePreview');
    //     const deleteBtn = document.getElementById('deleteImageBtn');

    //     input.addEventListener('change', function () {
    //         const file = this.files[0];

    //         if (file) {
    //             const reader = new FileReader();

    //             reader.onload = function (e) {
    //                 preview.src = e.target.result;
    //                 preview.style.display = 'block';
    //                 deleteBtn.style.display = 'block';
    //             };

    //             reader.readAsDataURL(file);
    //         } else {
    //             preview.style.display = 'none';
    //             deleteBtn.style.display = 'none';
    //         }
    //     });

    //     deleteBtn.addEventListener('click', function () {
    //         // Clear the file input and hide the preview and delete button
    //         input.value = '';
    //         preview.style.display = 'none';
    //         deleteBtn.style.display = 'none';
    //     });
    // }

    // setupImagePreview();

    function setupImagePreview() {
    const input = document.getElementById('imageInput');
    const preview = document.getElementById('imagePreview');
    const deleteBtn = document.getElementById('deleteImageBtn');
    const errorElement = document.getElementById('errorElement2');

    input.addEventListener('change', function () {
        const file = this.files[0];

        // Clear previous error messages
        errorElement.textContent = '';

        if (file) {
            var imageType = /^image\//; // Regular expression to check image type

            // Check if the file is an image
            if (!imageType.test(file.type)) {
                errorElement.textContent = 'Only image files are allowed.';
                input.value = ''; // Clear the file input
                preview.style.display = 'none';
                deleteBtn.style.display = 'none';
                return;
            }

            // Check file size (in bytes)
            var maxSizeMB = 5; // Set maximum size limit to 5MB
            if (file.size > maxSizeMB * 1024 * 1024) {
                errorElement.textContent = 'File size exceeds 5MB limit.';
                input.value = ''; // Clear the file input
                preview.style.display = 'none';
                deleteBtn.style.display = 'none';
                return;
            }

            const reader = new FileReader();

            reader.onload = function (e) {
                preview.src = e.target.result;
                preview.style.display = 'block';
                deleteBtn.style.display = 'block';
            };

            reader.readAsDataURL(file);
        } else {
            preview.style.display = 'none';
            deleteBtn.style.display = 'none';
        }
    });

    deleteBtn.addEventListener('click', function () {
        // Clear the file input and hide the preview and delete button
        input.value = '';
        preview.style.display = 'none';
        deleteBtn.style.display = 'none';
    });
}

setupImagePreview();

</script> -->
  <!-- <script src="js/adminCategory.js"></script> -->
  <script src="script.js"></script>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</html>